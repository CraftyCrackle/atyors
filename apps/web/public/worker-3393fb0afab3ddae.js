self.addEventListener("push",t=>{var i;let n;if(!t.data)return;try{n=t.data.json()}catch(i){n={title:"atyors",body:t.data.text()}}let a={body:n.body||"",icon:n.icon||"/icons/icon-192.png",badge:n.badge||"/icons/icon-192.png",data:n.data||{},vibrate:[200,100,200],tag:(null===(i=n.data)||void 0===i?void 0:i.type)||"default",renotify:!0};t.waitUntil(self.registration.showNotification(n.title||"atyors",a))}),self.addEventListener("notificationclick",t=>{var i;t.notification.close();let n=(null===(i=t.notification.data)||void 0===i?void 0:i.url)||"/dashboard";t.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(t=>{let i=t.find(t=>t.url.includes(n)&&"focus"in t);return i?i.focus():self.clients.openWindow(n)}))});